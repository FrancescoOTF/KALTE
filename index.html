<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>KALTÉ — Shop</title>
<style>
/* ===== RESET ===== */
* { box-sizing:border-box; margin:0; padding:0; }
html,body { width:100%; height:100%; font-family:Arial, sans-serif; background:#0f0f0f; color:#fff; }
.hidden { display:none !important; }

/* ===== PALETTE ===== */
:root{
  --bg-dark:#111;
  --card:#222;
  --brand:#E3D8C3;
  --brand-hover:#cbbba3;
  --muted:#999;
  --radius:12px;
  --shadow:0 4px 15px rgba(0,0,0,.5);
}

/* ===== BOTTONI ===== */
.btn{
  display:inline-block; padding:10px 20px; border:none; border-radius:8px;
  background:var(--brand); color:#111; font-size:0.95em; font-weight:bold; cursor:pointer;
  transition:background .25s, opacity .25s;
}
.btn:hover{ background:var(--brand-hover); }
.btn-link{
  background:none; border:none; color:var(--brand); font-weight:bold; cursor:pointer;
  padding:0; margin:12px 0;
}
.btn-link:hover{ color:var(--brand-hover); }

/* ===== BACKGROUND BLUR ===== */
.bg-blur {
  position: fixed;
  inset: 0;
  background: url("store-bg.gif") center/cover no-repeat;
  filter: blur(12px) brightness(0.4);
  z-index: 0;
}

/* ===== LANDING ===== */
#landing{
  position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; background:#fff url("landing-bg.gif") center/cover no-repeat;
  z-index: 2;
}
#landing-button{ margin-top:20px; width:420px; cursor:pointer; }
#newsletter{ margin-top:28px; display:flex; gap:8px; }
#newsletter input{ padding:10px 12px; border-radius:8px; border:none; width:240px; }
#newsletterMsg{ margin-top:10px; font-size:0.9rem; color:var(--brand); display:none; }

/* ===== HEADER ===== */
header{
  position:sticky; top:0; z-index:50;
  display:flex; justify-content:space-between; align-items:center;
  background:rgba(0,0,0,0.3); backdrop-filter:blur(8px);
  padding:10px 20px;
}
header img.logo{ width:120px; height:auto; cursor:pointer; }
nav a{ margin:0 12px; text-decoration:none; color:#fff; font-weight:bold; font-size:0.9rem; cursor:pointer; }
.icons{ display:flex; gap:15px; align-items:center; }
.icons img{ width:22px; height:22px; cursor:pointer; }

/* ===== SHOP ===== */
#shop{ position:relative; z-index:1; padding:30px 20px; display:flex; flex-direction:column; align-items:center; }
#shop h1{ margin-bottom:26px; }
.products-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:22px; width:100%; max-width:1040px;
}
.product{
  background:var(--card); border-radius:var(--radius); overflow:hidden; text-align:center;
  transition:transform .25s, box-shadow .25s;
}
.product:hover{ transform:scale(1.03); box-shadow:var(--shadow); }
.media{ position:relative; width:100%; aspect-ratio:1/1; background:#000; }
.media img{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain; }
.media img.alt{ opacity:0; transition:opacity .25s; }
.product:hover .media img.alt{ opacity:1; }
.product:hover .media img.main{ opacity:0; }
.product h2{ margin:10px; font-size:1rem; }
.price{ color:var(--muted); margin-bottom:6px; }

/* ===== TAZZE SECTION ===== */
#tazze{ position:relative; z-index:1; padding:40px 20px; }
#tazze h1{ text-align:center; margin-bottom:30px; }
.tazze-grid{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px; max-width:1000px; margin:0 auto; }
.tazza-card{ background:var(--card); border-radius:var(--radius); padding:20px; text-align:center; }
.tazza-card img{ width:100%; max-height:220px; object-fit:contain; margin-bottom:12px; }
.tazza-card h2{ margin-bottom:6px; }
.tazza-card p{ font-size:0.9rem; color:var(--muted); margin-bottom:12px; }

/* ===== CART ===== */
.cart{ position:fixed; top:0; right:-100%; width:320px; height:100%; background:#1a1a1a; box-shadow:-5px 0 30px #000;
  padding:20px; overflow-y:auto; transition:right .4s; z-index:100; }
.cart.open{ right:0; }
.cart-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.cart-item{ background:#222; margin:8px 0; padding:10px; border-radius:8px; display:flex; justify-content:space-between; }

/* ===== CHECKOUT ===== */
.checkout{ position:absolute; inset:0; background:var(--bg-dark); padding:28px 20px;
  display:flex; flex-direction:column; align-items:center; overflow-y:auto; z-index:2; }
.checkout form{ width:100%; max-width:500px; }
.checkout form input{ width:100%; padding:12px; border:none; border-radius:8px; margin-bottom:10px; background:#1a1a1a; color:#fff; }
.summary{ width:100%; max-width:500px; background:#1a1a1a; border-radius:12px; padding:16px; margin-bottom:14px; }
.summary-item{ display:flex; justify-content:space-between; margin:6px 0; }
.summary-total{ font-weight:bold; display:flex; justify-content:space-between; margin-top:8px; }
</style>
</head>
<body>

<!-- BACKGROUND BLUR -->
<div class="bg-blur"></div>

<!-- ===== LANDING ===== -->
<div id="landing">
  <img src="landing-button.gif" alt="Enter Shop" id="landing-button">
  <div id="newsletter">
    <input type="email" placeholder="Iscriviti alla newsletter" id="newsletterInput">
    <button class="btn" id="newsletterSubmit">Invia</button>
  </div>
  <div id="newsletterMsg">Grazie per esserti iscritto!</div>
</div>

<!-- ===== HEADER ===== -->
<header id="mainHeader" class="hidden">
  <img src="header-logo.gif" alt="KALTÉ" class="logo" id="headerLogo">
  <nav>
    <a id="navShop">Shop</a>
    <a id="navTazze">Le Tazze</a>
  </nav>
  <div class="icons">
    <img src="icon-account.png" alt="Account" id="accountIcon">
    <img src="icon-tazze.png" alt="Tazze" id="tazzeIcon">
    <img src="icon-cart.png" alt="Carrello" id="cartIcon">
  </div>
</header>

<!-- ===== SHOP ===== -->
<div id="shop" class="hidden">
  <h1>Shop KALTÉ</h1>
  <div class="products-grid">

    <div class="product">
      <div class="media">
        <img src="tazza_t1.png" alt="Tazza T1" class="main">
        <img src="abbonamento_20.png" alt="Abbonamento" class="alt">
      </div>
      <h2>Tazza T1 + Abbonamento (20 slot)</h2>
      <div class="price">€25</div>
      <button class="btn-link add-to-cart" data-name="Tazza T1 + Abbonamento" data-price="25">Aggiungi al Carrello</button>
    </div>

    <div class="product">
      <div class="media"><img src="maglia_front.png" class="main"><img src="maglia_back.png" class="alt"></div>
      <h2>Maglia Oversize</h2>
      <div class="price">€60</div>
      <button class="btn-link add-to-cart" data-name="Maglia Oversize" data-price="60">Aggiungi al Carrello</button>
    </div>

    <div class="product">
      <div class="media"><img src="occhiali.png" class="main"></div>
      <h2>Occhiali</h2>
      <div class="price">€80</div>
      <button class="btn-link add-to-cart" data-name="Occhiali" data-price="80">Aggiungi al Carrello</button>
    </div>

  </div>
</div>

<!-- ===== SEZIONE TAZZE ===== -->
<div id="tazze" class="hidden">
  <h1>La storia delle tazze</h1>
  <div class="tazze-grid">
    <div class="tazza-card">
      <img src="tazza_t1.png" alt="T1">
      <h2>T1 — Starter</h2>
      <p>Include la tazza T1 e abbonamento 20 slot. Acquistabile online o in store.</p>
      <button class="btn-link add-to-cart" data-name="Tazza T1 + Abbonamento" data-price="25">Aggiungi al Carrello</button>
    </div>
    <div class="tazza-card">
      <img src="tazza_t2.png" alt="T2">
      <h2>T2 — Loyalty</h2>
      <p>Si ottiene al completamento della T1, con upgrade a 50 slot.</p>
    </div>
    <div class="tazza-card">
      <img src="tazza_t3.png" alt="T3">
      <h2>T3 — Friend & Family</h2>
      <p>Ornamentale ed esclusiva. Riservata a collaboratori e amici del brand.</p>
    </div>
  </div>
</div>

<!-- ===== CARRELLO ===== -->
<div class="cart" id="cart">
  <div class="cart-header">
    <h2>Carrello</h2>
    <button class="btn-link" id="closeCartBtn">Chiudi</button>
  </div>
  <div id="cartItems"></div>
  <div class="total" id="cartTotal">Totale: €0.00</div>
  <button class="btn" id="toCheckout">Procedi al Pagamento</button>
</div>

<!-- ===== CHECKOUT ===== -->
<div class="checkout hidden" id="checkout">
  <h1>Checkout</h1>
  <div class="summary" id="checkoutSummary"></div>
  <form id="checkoutForm">
    <input type="text" name="name" placeholder="Nome completo" required>
    <input type="text" name="address" placeholder="Indirizzo" required>
    <input type="text" name="city" placeholder="Città" required>
    <input type="text" name="zip" placeholder="CAP" required>
    <input type="email" name="email" placeholder="Email" required>
    <div style="display:flex; gap:8px;">
      <button type="submit" class="btn">Conferma Ordine</button>
      <button type="button" class="btn-link" id="backToShopFromCheckout">Indietro</button>
    </div>
  </form>
</div>

<script>
const landing=document.getElementById('landing');
const landingBtn=document.getElementById('landing-button');
const shop=document.getElementById('shop');
const header=document.getElementById('mainHeader');
const tazze=document.getElementById('tazze');
const cart=document.getElementById('cart');
const checkout=document.getElementById('checkout');
let cartItems=[];

/* Entra nello shop */
landingBtn.addEventListener('click',()=>{
  landing.classList.add('hidden');
  header.classList.remove('hidden');
  shop.classList.remove('hidden');
});

/* Header nav + icone */
document.getElementById('headerLogo').addEventListener('click',()=>{ // back to landing
  header.classList.add('hidden'); shop.classList.add('hidden'); tazze.classList.add('hidden'); checkout.classList.add('hidden');
  landing.classList.remove('hidden');
});
document.getElementById('navShop').addEventListener('click',()=>{
  shop.classList.remove('hidden'); tazze.classList.add('hidden'); checkout.classList.add('hidden');
});
document.getElementById('navTazze').addEventListener('click',()=>{
  tazze.classList.remove('hidden'); shop.classList.add('hidden'); checkout.classList.add('hidden');
});
document.getElementById('tazzeIcon').addEventListener('click',()=>{
  tazze.classList.remove('hidden'); shop.classList.add('hidden'); checkout.classList.add('hidden');
});
document.getElementById('cartIcon').addEventListener('click',()=>cart.classList.add('open'));

/* Newsletter */
document.getElementById('newsletterSubmit').addEventListener('click',()=>{
  const email=document.getElementById('newsletterInput').value.trim();
  if(email){ document.getElementById('newsletterMsg').style.display='block'; }
});

/* Carrello */
function renderCart(){
  const cont=document.getElementById('cartItems'); cont.innerHTML='';
  let total=0;
  cartItems.forEach(i=>{
    const row=document.createElement('div');
    row.className='cart-item';
    row.innerHTML=`<span>${i.name}</span><span>€${i.price.toFixed(2)}</span>`;
    cont.appendChild(row); total+=i.price;
  });
  document.getElementById('cartTotal').textContent='Totale: €'+total.toFixed(2);
}
document.querySelectorAll('.add-to-cart').forEach(b=>{
  b.addEventListener('click',()=>{
    cartItems.push({name:b.dataset.name, price:parseFloat(b.dataset.price)});
    renderCart(); cart.classList.add('open');
  });
});
document.getElementById('closeCartBtn').addEventListener('click',()=>cart.classList.remove('open'));

/* Checkout */
document.getElementById('toCheckout').addEventListener('click',()=>{
  cart.classList.remove('open'); shop.classList.add('hidden'); tazze.classList.add('hidden'); header.classList.add('hidden'); checkout.classList.remove('hidden');
  const sum=document.getElementById('checkoutSummary'); sum.innerHTML=''; let total=0;
  cartItems.forEach(i=>{
    sum.innerHTML+=`<div class="summary-item"><span>${i.name}</span><span>€${i.price.toFixed(2)}</span></div>`; total+=i.price;
  });
  sum.innerHTML+=`<div class="summary-total"><span>Totale</span><span>€${total.toFixed(2)}</span></div>`;
});
document.getElementById('backToShopFromCheckout').addEventListener('click',()=>{
  checkout.classList.add('hidden'); shop.classList.remove('hidden'); header.classList.remove('hidden');
});
document.getElementById('checkoutForm').addEventListener('submit',e=>{
  e.preventDefault(); alert('Ordine confermato!'); cartItems=[]; renderCart();
  checkout.classList.add('hidden'); shop.classList.remove('hidden'); header.classList.remove('hidden');
});
</script>
</body>
</html>
