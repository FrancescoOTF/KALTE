/* ========= i18n (single JS toggle, no duplicate pages) ========= */
const I18N = {
  it: {
    // nav
    nav_about: "ABOUT",
    nav_services: "SERVICES",
    nav_contact: "CONTACT",
    nav_social: "SOCIAL",

    // home hero
    hero_sub: "Digital & Visual Solutions",
    hero_tagline: "Siti web essenziali e soluzioni visive chiare.",
    cta_contact: "CONTACT",
    hero_notes: "Siti statici. Identità pulita. Niente complessità inutile.",

    // about
    about_title: "ABOUT",
    about_text:
      "KALTÉ è un progetto indipendente di Digital & Visual Solutions.\n" +
      "Realizziamo siti web semplici e identità visive essenziali, pensate per essere chiare,\n" +
      "funzionali e durare nel tempo.\n" +
      "Lavoriamo su soluzioni concrete, senza complicazioni inutili,\n" +
      "con un approccio diretto e collaborativo.",

    // services home
    services_title: "SERVICES",
    services_kicker: "Focus",
    digital_card_desc: "Siti statici 1–3 pagine, veloci, chiari, senza gestione continua.",
    visual_card_desc: "Logo, identità visiva, materiali digitali e stampati.",
    open_page: "Open page →",

    // sections common
    contact_title: "CONTACT",
    social_title: "SOCIAL",
    footer_note: "Digital & Visual Solutions.",
    back_home: "← Home",
    what_we_do: "Cosa facciamo",
    what_we_dont: "Cosa NON facciamo",
    what_includes: "Include",
    what_excludes: "Esclude",

    // CTAs
    cta_email: "EMAIL",
    cta_whatsapp: "WHATSAPP",

    // DIGITAL page
    digital_intro: "Siti web statici 1–3 pagine. Veloci, chiari, senza gestione continua.",
    digital_fit: "Ideale per attività locali, creativi, piccoli brand: serve chiarezza, non complessità.",

    digital_do: [
      "Siti web statici 1–3 pagine",
      "Layout pulito, mobile-first",
      "Performance e caricamento veloce",
      "Contenuti chiari + contatti immediati",
      "Deploy su Netlify / Cloudflare Pages"
    ],
    digital_dont: [
      "WordPress gestito",
      "Ecommerce",
      "SEO avanzata",
      "Manutenzione continua"
    ],

    // VISUAL page
    visual_intro: "Identità visiva essenziale, applicabile e coerente. Niente decorazioni vuote.",

    visual_in: [
      "Logo / restyling",
      "Identità visiva (colori, font, regole base)",
      "Materiali digitali (cover, banner, asset web)",
      "Materiali stampati (flyer, poster, biglietti, packaging base)",
      "Applicazioni su merch / vestiario"
    ],
    visual_out: [
      "SMM",
      "Marketing",
      "Copywriting",
      "Gestione social"
    ],

    // VISUAL: logo-only + capsule upgrade
    visual_logo_title: "Logo-only",
    visual_logo_text:
      "Possiamo lavorare anche su un singolo logo. Se con poco in più vuoi qualcosa che regga davvero, progettiamo una mini identity: regole base + applicazioni per web/stampa/merch.",
    visual_capsule_title: "Mini identity (capsule) — include",
    visual_capsule_list: [
      "Palette base (2–4 colori)",
      "Font principali (1–2)",
      "Regole minime d’uso (varianti, spaziature, fondi)",
      "2–4 applicazioni essenziali (es. header sito, cover, biglietto, mockup merch)"
    ],
    visual_filter_note: "Se cerchi SMM/marketing/gestione social, non è il servizio che offriamo.",

    // START (used on both digital + visual pages)
    start_title: "PER INIZIARE",
    start_intro: "Per lavorare veloce e senza giri a vuoto, mandami questi 4 punti.",
    start_list: [
      "Riferimenti (2–3 link o screenshot)",
      "Cosa fai (servizio/prodotto + target)",
      "Dove serve (web / stampa / merch)",
      "Vincoli (colori, simboli, formati, tempi)"
    ],
    start_filter: "Se cerchi ecommerce, SEO avanzata o gestione social, non è il servizio che offriamo."
  },

  en: {
    // nav
    nav_about: "ABOUT",
    nav_services: "SERVICES",
    nav_contact: "CONTACT",
    nav_social: "SOCIAL",

    // home hero
    hero_sub: "Digital & Visual Solutions",
    hero_tagline: "Simple websites and clear visual identities.",
    cta_contact: "CONTACT",
    hero_notes: "Static sites. Clean identity. No unnecessary complexity.",

    // about
    about_title: "ABOUT",
    about_text:
      "KALTÉ is an independent Digital & Visual Solutions project.\n" +
      "We create simple websites and essential visual identities,\n" +
      "designed to be clear, functional, and built to last.\n" +
      "We focus on practical solutions, without unnecessary complexity,\n" +
      "using a direct and collaborative approach.",

    // services home
    services_title: "SERVICES",
    services_kicker: "Focus",
    digital_card_desc: "Static 1–3 page websites. Fast, clear, no ongoing management.",
    visual_card_desc: "Logos, visual identity, digital + print materials.",
    open_page: "Open page →",

    // sections common
    contact_title: "CONTACT",
    social_title: "SOCIAL",
    footer_note: "Digital & Visual Solutions.",
    back_home: "← Home",
    what_we_do: "What we do",
    what_we_dont: "What we don't do",
    what_includes: "Includes",
    what_excludes: "Excludes",

    // CTAs
    cta_email: "EMAIL",
    cta_whatsapp: "WHATSAPP",

    // DIGITAL page
    digital_intro: "Static 1–3 page websites. Fast, clear, no ongoing management.",
    digital_fit: "Ideal for local businesses, creatives, small brands: you need clarity, not complexity.",

    digital_do: [
      "Static 1–3 page websites",
      "Clean, mobile-first layout",
      "Fast load and performance focus",
      "Clear content + direct contacts",
      "Deploy on Netlify / Cloudflare Pages"
    ],
    digital_dont: [
      "Managed WordPress",
      "E-commerce",
      "Advanced SEO",
      "Ongoing maintenance"
    ],

    // VISUAL page
    visual_intro: "Essential visual identity that is usable and consistent. No empty decoration.",

    visual_in: [
      "Logo / redesign",
      "Visual identity (colors, fonts, basic rules)",
      "Digital materials (covers, banners, web assets)",
      "Printed materials (flyers, posters, cards, basic packaging)",
      "Applications for merch / apparel"
    ],
    visual_out: [
      "Social media management",
      "Marketing",
      "Copywriting",
      "Social account management"
    ],

    // VISUAL: logo-only + capsule upgrade
    visual_logo_title: "Logo-only",
    visual_logo_text:
      "We can work on a single logo. If you want something that actually holds up, with a bit more we build a mini identity: basic rules + key applications for web/print/merch.",
    visual_capsule_title: "Mini identity (capsule) — includes",
    visual_capsule_list: [
      "Core palette (2–4 colors)",
      "Primary fonts (1–2)",
      "Minimal usage rules (variants, spacing, backgrounds)",
      "2–4 essential applications (e.g., website header, cover, business card, merch mockup)"
    ],
    visual_filter_note: "If you need marketing/social management, this is not the service we provide.",

    // START (used on both digital + visual pages)
    start_title: "TO START",
    start_intro: "To move fast and avoid wasting time, send these 4 items.",
    start_list: [
      "References (2–3 links or screenshots)",
      "What you do (offer + audience)",
      "Where it’s used (web / print / merch)",
      "Constraints (colors, symbols, formats, timing)"
    ],
    start_filter: "If you need ecommerce, advanced SEO, or social management, this is not the service we provide."
  }
};

/* ========= Language helpers ========= */
function getSavedLang() {
  const saved = localStorage.getItem("kalte_lang");
  return (saved === "en" || saved === "it") ? saved : "it";
}

function setLang(lang) {
  localStorage.setItem("kalte_lang", lang);
  document.documentElement.lang = lang;

  // Update pill (if exists on page)
  const pill = document.getElementById("langPill");
  if (pill) pill.textContent = lang.toUpperCase();

  // Update text nodes
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    const value = I18N[lang][key];
    if (typeof value !== "string") return;
    el.textContent = value;
  });

  // Update lists
  document.querySelectorAll("[data-i18n-list]").forEach(listEl => {
    const key = listEl.getAttribute("data-i18n-list");
    const arr = I18N[lang][key];
    if (!Array.isArray(arr)) return;

    listEl.innerHTML = "";
    arr.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      listEl.appendChild(li);
    });
  });
}

function initLang() {
  const lang = getSavedLang();
  setLang(lang);

  const btn = document.getElementById("langToggle");
  if (btn) {
    btn.addEventListener("click", () => {
      const current = getSavedLang();
      setLang(current === "it" ? "en" : "it");
    });
  }
}

function initYear() {
  const y = document.getElementById("year");
  if (y) y.textContent = String(new Date().getFullYear());
}

document.addEventListener("DOMContentLoaded", () => {
  initLang();
  initYear();
});
